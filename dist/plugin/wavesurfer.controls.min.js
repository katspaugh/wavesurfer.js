/*! wavesurfer.js 1.2.8 (Fri, 13 Jan 2017 03:05:29 GMT)
* https://github.com/katspaugh/wavesurfer.js
* @license CC-BY-3.0 */!function(a,b){"function"==typeof define&&define.amd?define(["wavesurfer"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("wavesurfer.js")):b(a.WaveSurfer)}(this,function(a){"use strict";a.Controls={init:function(b){if(this.params=b,this.wavesurfer=b.wavesurfer,!this.wavesurfer)throw Error("No WaveSurfer instance provided");var c=this.drawer=this.wavesurfer.drawer;if(this.container="string"==typeof b.container?document.querySelector(b.container):b.container,!this.container)throw Error("No container for WaveSurfer controls");this.width=c.width,this.height=this.params.height||20,this.zoomLevel=this.params.zoomLevel||1,this.volume=this.params.volume||1;var d=this.container.querySelector("controls");if(d&&this.container.removeChild(d),this.params.template)this.container.innerHTML=this.params.template;else{var e=a.util.template("<div></div>");this.container.innerHTML=e}this.setStatusOpt(),this.setPosOpt(),this.setVolumeOpt(),this.setZoomOpt()},setStatusOpt:function(){var a=this;this.play=this.container.querySelector("#waveform-controls-play"),this.pause=this.container.querySelector("#waveform-controls-pause"),this.wavesurfer.isPlaying()?(this.play.style.display="none",this.pause.style.display=""):(this.pause.style.display="none",this.play.style.display=""),this.play.onclick=function(){a.wavesurfer.playPause()},this.pause.onclick=function(){a.wavesurfer.playPause()},this.wavesurfer.on("pause",function(){a.pause.style.display="none",a.play.style.display=""}),this.wavesurfer.on("finish",function(){a.pause.style.display="none",a.play.style.display=""}),this.wavesurfer.on("play",function(){a.pause.style.display="",a.play.style.display="none"})},setPosOpt:function(){var a=this,b=this.container.querySelector("#waveform-controls-pos-info .cur"),c=this.container.querySelector("#waveform-controls-pos-info .total");c.innerHTML=this.formatTime(this.wavesurfer.getDuration()),this.wavesurfer.on("audioprocess",function(){b.innerHTML=a.formatTime(a.wavesurfer.getCurrentTime())}),this.restart=this.container.querySelector("#waveform-controls-restart"),this.restart.onclick=function(){var b=a.wavesurfer.isPlaying();a.wavesurfer.pause(),a.wavesurfer.seekTo(0),b&&a.wavesurfer.play()},this.end=this.container.querySelector("#waveform-controls-end"),this.end.onclick=function(){a.wavesurfer.stop(),a.wavesurfer.seekTo(1)},this.backward5=this.container.querySelector("#waveform-controls-backward5"),this.backward5.onclick=function(){var b=a.wavesurfer.isPlaying();a.wavesurfer.pause(),a.wavesurfer.skipBackward(5),b&&a.wavesurfer.play()},this.forward5=this.container.querySelector("#waveform-controls-forward5"),this.forward5.onclick=function(){a.wavesurfer.skipForward(5)}},setVolumeOpt:function(){var a=this;this.volumeinput=this.container.querySelector("#waveform-controls-volume"),this.volumeup=this.container.querySelector("#waveform-controls-volume-up"),this.volumedown=this.container.querySelector("#waveform-controls-volume-down"),this.volumeoff=this.container.querySelector("#waveform-controls-volume-off"),this.volumeinput.onchange=function(b){a.volume=parseInt(b.target.value)/100,a.wavesurfer.setVolume(a.volume),a.volume>.5?(a.volumeup.style.display="",a.volumedown.style.display="none",a.volumeoff.style.display="none"):a.volume>0?(a.volumeup.style.display="none",a.volumedown.style.display="",a.volumeoff.style.display="none"):(a.volumeup.style.display="none",a.volumedown.style.display="none",a.volumeoff.style.display="")},this.volumeup.onclick=function(){a.wavesurfer.toggleMute(),a.volumeup.style.display="none",a.volumedown.style.display="none",a.volumeoff.style.display=""},this.volumedown.onclick=function(){a.wavesurfer.toggleMute(),a.volumeup.style.display="none",a.volumedown.style.display="none",a.volumeoff.style.display=""},this.volumeoff.onclick=function(){a.wavesurfer.toggleMute(),a.volumeoff.style.display="none",a.volume>.5?(a.volumeup.style.display="",a.volumedown.style.display="none"):(a.volumeup.style.display="none",a.volumedown.style.display="")}},setZoomOpt:function(){var a=this,b=.2;this.zoomup=this.container.querySelector("#waveform-controls-zoomup"),this.zoomup.onclick=function(){a.zoomLevel=a.zoomLevel+b>=5*b?5*b:a.zoomLevel+b,a.wavesurfer.zoom(a.zoomLevel)},this.zoomdown=this.container.querySelector("#waveform-controls-zoomdown"),this.zoomdown.onclick=function(){a.zoomLevel=a.zoomLevel-b<=b?b:a.zoomLevel-b,a.wavesurfer.zoom(a.zoomLevel)}},formatTime:function(a){return[Math.floor(a%3600/60),("00"+Math.floor(a%60)).slice(-2)].join(":")}},a.util.extend(a.Controls,a.Observer)});