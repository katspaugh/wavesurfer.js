/*! wavesurfer.js 1.4.0 (Wed, 14 Jun 2017 02:39:59 GMT)
* https://github.com/katspaugh/wavesurfer.js
* @license BSD-3-Clause */
!function(t,e){"function"==typeof define&&define.amd?define(["wavesurfer"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("wavesurfer.js")):e(t.WaveSurfer)}(this,function(t){"use strict";t.Playlist={init:function(t){this.params=t;var e=this.wavesurfer=t.wavesurfer;if(!this.wavesurfer)throw new Error("No WaveSurfer instance provided");if(this.playlistFileGET=this.params.playlistFile||null,this.playlistType=this.params.playlistType||"m3u",this.playlistData=[],null==this.playlistFileGET)throw new Error("No playlist file provided");var i=e.util.ajax({url:this.playlistFileGET,responseType:"text"}),r=this;i.on("success",function(t,e){r.loadPlaylist(t),r.wavesurfer.fireEvent("playlist-ready")}),i.on("error",function(t){throw new Error("Error reading the playlist fileXHR error: "+t.target.statusText)})},getPlaylist:function(){return this.playlistData},loadPlaylist:function(t){var e=[];if("m3u"!=this.playlistType&&"audio/mpegurl"!=this.playlistType)throw new Error("No valid playlist file provided");e=t.replace(/^.*#.*$|#EXTM3U|#EXTINF:/gm,"").split("\n");for(var i=[],r=0;r<e.length;r++)e[r]&&(-1===e[r].indexOf(".mp3")&&-1===e[r].indexOf(".wav")||i.push(e[r].toString()));this.playlistData=i}},t.util.extend(t.Playlist,t.Observer)});