---
layout: default
---
<section>
  <h1>Microphone plugin</h1>

  <p>Visualizes audio input from a microphone in wavesurfer.js instances.</p>

  <script src="//unpkg.com/wavesurfer.js" type="text/javascript"></script>
  <script src="//unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.microphone.min.js" type="text/javascript"></script>
  <script src="microphone.js"></script>

  <h2>Quick start</h2>

  <div id="demo">
    <div id="waveform"></div>

    <div class="controls">
        <button id="micBtn" class="btn btn-primary" data-action="start">
            Microphone:
            <i class="glyphicon glyphicon-play"></i>
            Start
            /
            <i class="glyphicon glyphicon-stop"></i>
            Stop
        </button>
    </div>
  </div>

  <p>
    <ol>
      <li>add the Microphone plugin script tag</li>
      <li>create a <code>WaveSurfer</code> instance</li>
      <li>create a <code>Microphone</code> instance</li>
      <li>control the Microphone using the <code>start</code>, <code>stopDevice</code>, <code>play</code>, <code>pause</code>, <code>stop</code> and <code>togglePlay</code> methods</li>
    </ol>
  </p>

  <h2>Options</h2>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Name</th>
        <th>Required</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>wavesurfer</code></td>
        <td>yes</td>
        <td></td>
        <td>A WaveSurfer instance.</td>
      </tr>
      <tr>
        <td><code>bufferSize</code></td>
        <td>no</td>
        <td>4096</td>
        <td>The buffer size in units of sample-frames. If specified, the <code>bufferSize</code> must be one of the following values: 256, 512, 1024, 2048, 4096, 8192, 16384.</td>
      </tr>
      <tr>
        <td><code>numberOfInputChannels</code></td>
        <td>no</td>
        <td>1</td>
        <td>Integer specifying the number of channels for this node's input. Values of up to 32 are supported.</td>
      </tr>
      <tr>
        <td><code>numberOfOutputChannels</code></td>
        <td>no</td>
        <td>1</td>
        <td>Integer specifying the number of channels for this node's output. Values of up to 32 are supported.</td>
      </tr>
    </tbody>
  </table>

  <h2>Events</h2>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>deviceReady</code></td>
        <td>Invoked when the device is ready to use. Callback will receive a <code>LocalMediaStream</code> object that contains the microphone stream.</td>
      </tr>
      <tr>
        <td><code>deviceError</code></td>
        <td>Invoked when the user doesn't allow the browser to access the microphone. Callback will receive a (string) <a href='https://developer.mozilla.org/en-US/docs/NavigatorUserMedia.getUserMedia#errorCallback'>error code</a>.</td>
      </tr>
    </tbody>
  </table>
</section>

